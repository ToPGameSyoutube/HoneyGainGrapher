<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="header"> 
    
    <div class="spacer1"></div>
    <button class="pagebutton" type="button" onclick="openSidebar()">
        <div class="menu">
             <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                <path d="M3 18h18v-2H3v2z"></path>
                <path d="M3 13h18v-2H3v2z"></path>
                <path d="M3 6v2h18V6H3z"></path>
            </svg>
        </div>
    </button>
    <h1 class="pagelable" id="pagelable">Overview</h1>
</div>

<div class="page" id="overviewPage">
    <div class="card1" id="balanceCard">
        <div class="cardLabel">Current Balance</div>
        <div class="innerCardText1" id="currentBalanceUSD"> Loading...</div>
        <div class="innerCardLabel1"> USD</div>
        <div class="innerCardText1" id="currentBalance"> Loading...</div>
        <div class="innerCardLabel1"> Credits</div>
        <div class="innerCardText1" id="currentBalanceGB"> Loading...</div>
        <div class="innerCardLabel1"> GB</div>
    </div>
    <div class="card2" id="last7Card">
        <div class="cardLabel">Last 7 Days</div>
        <div class="innerCardText1" id="last7BalanceUSD"> Loading...</div>
        <div class="innerCardLabel1"> USD</div>
        <div class="innerCardText1" id="last7Balance"> Loading...</div>
        <div class="innerCardLabel1"> Credits</div>
        <div class="innerCardText1" id="last7BalanceGB"> Loading...</div>
        <div class="innerCardLabel1"> GB</div>
        <div class="innerCardText1" id="last7Rate"> Loading...</div>
        <div class="innerCardLabel1"> USD per Day</div>
    </div>
    <div class="card3" id="payoutCard">
        <div class="cardLabel">Payout</div>
        <div class="innerCardLabel1"> Last Payout:</div>
        <div class="innerCardText1" id="lastPayout"> N/A</div>
        <div class="innerCardLabel1"> Est. bal>20: </div>
        <div class="innerCardText1" id="nextPayout"> Loading...</div>
        <div class="innerCardLabel1"> Days </div>
    </div>
</div>

<div class="page" id="graphPage">
    <object class="graph" onload="loadingGif.style.visibility='hidden'" width="1500" height="700" data="HoneyGainDevicesDelta_plot.html">
        failed to load graph
    </object>
    <img id="loadingGif" src="loading.gif" alt="loading">
</div>

<div class="page" id="devicesPage">
    <div class="card1" id="diviceOverviewCard">
        <div class="cardLabel">Device Overview</div>
        <div class="innerCardLabel1">HG Active Devices:</div>
        <div class="innerCardText1" id="hgactiveDevices">Loading...</div>
        <div class="innerCardLabel1">Active Devices:</div>
        <div class="innerCardText1" id="activeDevices">Loading...</div>
        <div class="innerCardLabel1">Earning Devices:</div>
        <div class="innerCardText1" id="earningDevices">Loading...</div>
        <div class="innerCardLabel1">Avg. Devices Earning:</div>
        <div class="innerCardText1" id="earningPerDevice">Loading...</div>
        <div class="innerCardLabel1">USD</div>
        <label class="innerCardText2" for="startDate">Start date:</label>
        <input type="date" id="startDate" name="" value="0000-00-00"min="0000-00-00" max="0000-00-00" onchange="onDateChange(this.value,endDate[0].value)"><br>
        <label class="innerCardText2" for="endDate" >End date:</label>
        <input type="date" id="endDate" name="" value="0000-00-00"min="0000-00-00" max="0000-00-00"  onchange="onDateChange(startDate[0].value,this.value)">
    </div>
    <div class="card4" id="deviceStuffCard">
        <div class="cardLabel2">More Device Stuff</div>
        <label class="innerCardText2" for="deviceDisplayMode">Display Mode:</label>

        <select id="deviceDisplayMode" onchange="updateTables()">
          <option>Show All</option>
          <option>Hide Inactive</option>
          <option>Only Inactive</option>
          <option>Only Earning</option>
        </select>
        <table  class="searchable sortable" id="deviceoverviewTable">
            <tr>
                <th onclick="sortTable(deviceoverviewTable,0,false,'User',this)" >User</th>
                <th onclick="sortTable(deviceoverviewTable,1,false,'Device',this)" >Device</th>
                <th onclick="sortTable(deviceoverviewTable,2,true,'Credits Gained',this)"  id="deviceCreditsGained">Credits Gained</th>
                <th onclick="sortTable(deviceoverviewTable,3,true,'Total Credits',this)">Total Credits</th>
                <th onclick="sortTable(deviceoverviewTable,4,true,'Last Earning<br>Hours Ago',this)">Last Earning<br>Hours Ago</th>
            </tr>
        </table>
        <button onclick="exportToCsv(deviceoverviewTable)"> Export To CSV</button>
    </div>
</div>

<div class="page" id="usersPage">
    <div class="card1" id="userOverviewCard">
        <div class="cardLabel">User Overview</div>
        <div class="innerCardLabel1">Active Users:</div>
        <div class="innerCardText1" id="hgActiveUsers">Loading...</div>
        <div class="innerCardLabel1">Earning Users:</div>
        <div class="innerCardText1" id="earningUsers">Loading...</div>
        <div class="innerCardLabel1">Avg. User Earning:</div>
        <div class="innerCardText1" id="earningPerUser">Loading...</div>
        <div class="innerCardLabel1">USD</div>
        <label class="innerCardText2" for="startDate">Start date:</label>
        <input type="date" id="startDate" name="" value="0000-00-00"min="0000-00-00" max="0000-00-00" onchange="onDateChange(this.value,endDate[0].value)"><br>
        <label class="innerCardText2" for="endDate" >End date:</label>
        <input type="date" id="endDate" name="" value="0000-00-00"min="0000-00-00" max="0000-00-00" onchange="onDateChange(startDate[0].value,this.value)" >
    </div>
    <div class="card4" id="userStuffCard">
        <div class="cardLabel2">More User Stuff</div>
        <table  class="searchable sortable" id="useroverviewTable">
            <tr>
                <th onclick="sortTable(useroverviewTable,0,false,'User',this)" >User</th>
                <th onclick="sortTable(useroverviewTable,1,true,'Devices',this)" >Devices</th>
                <th onclick="sortTable(useroverviewTable,2,true,'Earning Devices',this)" >Earning Device</th>
                <th onclick="sortTable(useroverviewTable,3,true,'Active Devices',this)" >Active Devices</th>
                <th onclick="sortTable(useroverviewTable,4,true,'Credits Gained',this)" id="userCreditsGained">Credits Gained</th>
                <th onclick="sortTable(useroverviewTable,5,true,'Total Credits',this)">Total Credits</th>
            </tr>
        </table>
        <button onclick="exportToCsv(useroverviewTable)"> Export To CSV</button>
    </div>
</div>

<div class="menuSidebar" id="menuSidebar">
    <div class="menuItem" onclick="document.location.href='dashboard.html#overview';closeSidebar()">Overview </div>
    <div class="menuItem" onclick="document.location.href='dashboard.html#graph';   closeSidebar()">Graph </div>
    <div class="menuItem" onclick="document.location.href='dashboard.html#devices'; closeSidebar()">Devices </div>
    <div class="menuItem" onclick="document.location.href='dashboard.html#users'; closeSidebar()">Users </div>

</div>
</body>
</html>
<script src="helper.js"></script>
<script src="main.js"></script>
